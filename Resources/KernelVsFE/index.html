<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Robert Jacobson">
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>MMA Notebook Vs. Frontend - Wolfram Language Specification</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link href="../../extras/css/material-icons.css" rel="stylesheet" />
  <link href="../../extras/css/admonitions.css" rel="stylesheet" />
  <link href="../../extras/css/mma.css" rel="stylesheet" />
  <link href="../../extras/css/fixes.css" rel="stylesheet" />
  <link href="../../extras/css/tasklist.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "MMA Notebook Vs. Frontend";
    var mkdocs_page_input_path = "Resources/KernelVsFE.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Wolfram Language Specification</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <p class="caption"><span class="caption-text">Syntax</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Specification/Syntax/">Syntax Tasks</a>
    <ul>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Specification/Syntax/Number-representations/">Number Representations</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../../Specification/Syntax/Number-representations/#signs-in-a-number-literal">Signs in a Number Literal</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../Specification/Syntax/Number-representations/#digits">Digits</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../../Specification/Syntax/Number-representations/#consequences-of-allowing-numbers-to-start-with">Consequences of allowing numbers to start with .</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../Specification/Syntax/Number-representations/#numbers-in-a-specified-base">Numbers in a specified base</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../../Specification/Syntax/Number-representations/#examples">Examples</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../../Specification/Syntax/Number-representations/#non-examples">Non Examples</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../Specification/Syntax/Number-representations/#specifying-numeric-precision-and-accuracy">Specifying numeric precision and accuracy.</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../../Specification/Syntax/Number-representations/#examples_1">Examples</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../../Specification/Syntax/Number-representations/#non-examples_1">Non Examples</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../Specification/Syntax/Number-representations/#scientific-form-scientific-notation">Scientific Form / Scientific Notation</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../../Specification/Syntax/Number-representations/#examples_2">Examples</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../../Specification/Syntax/Number-representations/#non-examples_2">Non Examples</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Specification/Syntax/OperatorTable/">Operator Table</a>
    <ul>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Specification/Syntax/Pseudo-operators/">Pseudo Operators</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../../Specification/Syntax/Pseudo-operators/#precedence-of-pseudo-operators">Precedence of Pseudo-operators</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../../Specification/Syntax/Pseudo-operators/#precision-vs-context">Precision vs. context</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../../Specification/Syntax/Pseudo-operators/#decimal-point-versus-various-operators">Decimal point versus various operators</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Semantics</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Specification/Semantics/">Semantics Tasks</a>
    <ul>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Specification/Semantics/Number-literal-semantics/">Number Literals</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../../Specification/Semantics/Number-literal-semantics/#approximate-numbers-real">Approximate Numbers (Real)</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../../Specification/Semantics/Number-literal-semantics/#when-a-number-literal-isreal">When a Number Literal isReal</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../../Specification/Semantics/Number-literal-semantics/#precision-and-accuracy">Precision and Accuracy</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../Specification/Semantics/Number-literal-semantics/#scientific-form">Scientific Form</a>
    </li>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Specification/StandardLibrary/">Standard Library Tasks</a>
    <ul>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Specification/Interfaces/">Interfaces Tasks</a>
    <ul>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Resources</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../">Index</a>
    <ul>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Exploring-Mathematica/">Exploring Mathematica</a>
    <ul>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../List-of-W-Language-Projects/">List of WL Projects</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../List-of-W-Language-Projects/#computer-algebra-systems-and-term-rewriters">Computer Algebra Systems and Term Rewriters</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../List-of-W-Language-Projects/#active">Active</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../List-of-W-Language-Projects/#inactive">Inactive</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../List-of-W-Language-Projects/#parsers">Parsers</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../List-of-W-Language-Projects/#active_1">Active</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../List-of-W-Language-Projects/#inactive_1">Inactive</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../ProgrammingTools/">Programming Tools</a>
    <ul>
    </ul>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">MMA Notebook Vs. Frontend</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#semantically-meaningful-differences">Semantically meaningful differences</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#hashing">Hashing</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#determining-the-fullform-expression-of-an-expression">Determining the FullForm expression of an expression</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#number-forms">Number forms</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#parsing-identifiers-in-input">Parsing identifiers in input</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#parsing-expressions-involving">Parsing expressions involving ;;</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#expressions-involving">Expressions involving .</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#obscure-grouping-symbols">Obscure grouping symbols</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#differences-that-are-semantically-equivalent">Differences that are semantically equivalent</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#flattening-times-in-arithmetic-expressions-with-exact-numbers">Flattening Times in arithmetic expressions with exact numbers</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#bugs">Bugs</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#other-homeless-quirks">Other Homeless Quirks</a>
    </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Contributing</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Contributing/">How to Contribute</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../../Contributing/#writing-content">Writing Content</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../../Contributing/#get-the-content">Get the Content</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../../Contributing/#writing">Writing</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../../Contributing/#giving-back">Giving Back</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../Contributing/#modifying-the-website-theme-or-structure">Modifying the Website Theme or Structure</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Contributing/Style-Guide/">Style Guide</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../../Contributing/Style-Guide/#writing-style-guide">Writing Style Guide</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../Contributing/Style-Guide/#special-symbols">Special Symbols</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../Contributing/Style-Guide/#mathematical-typesetting">Mathematical Typesetting</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../Contributing/Style-Guide/#code-style-guide">Code Style Guide</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../../Contributing/Style-Guide/#formal-grammars">Formal Grammars</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../../Contributing/Style-Guide/#wl-code">WL Code</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../Contributing/Style-Guide/#admonitions">Admonitions</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../Contributing/Style-Guide/#authorship">Authorship</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Contributing/Homeless-content/">Homeless Content</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../../Contributing/Homeless-content/#documentation-examples-test-suites">Documentation, examples, test suites</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../Contributing/Homeless-content/#mathematica-behaviors-quirks">Mathematica behaviors / quirks</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../../Contributing/Homeless-content/#different-behavior-between-the-kernel-and-the-notebook">Different behavior between the kernel and the notebook</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="../../Contributing/Homeless-content/#x_-vs-x_">x_. vs x_..</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../../Contributing/Homeless-content/#different-behavior-between-toexpression-vs-command-line">Different behavior between ToExpression vs command line</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../../Contributing/Homeless-content/#frontend">Frontend</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="../../Contributing/Homeless-content/#rawescape-is-as-a-letter">RawEscape is as a letter</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Specification/">Language Specification Tasks</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../../Specification/#table-of-contents">Table of Contents</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../../Specification/#repository-notes">Repository Notes</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../../Specification/#a-note-on-terminology">A Note on Terminology</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../../Specification/#why-two-repositories">Why two repositories?</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Wolfram Language Specification</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Resources &raquo;</li>
        
      
    
    <li>MMA Notebook Vs. Frontend</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/WLTools/LanguageSpec/edit/master/docs/Resources/KernelVsFE.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
    <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
        <a href="../../Contributing/" class="btn btn-neutral float-right" title="How to Contribute">Next <span class="icon icon-circle-arrow-right"></span></a>
        <a href="../ProgrammingTools/" class="btn btn-neutral" title="Programming Tools"><span class="icon icon-circle-arrow-left"></span> Previous</a>
    </div>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="differences-between-mathematicas-command-line-and-notebook-frontend">Differences Between Mathematica's Command Line and Notebook Frontend<a class="headerlink" href="#differences-between-mathematicas-command-line-and-notebook-frontend" title="Permanent link">&para;</a></h1>
<p>There are many differences in behavior between Wolfram Mathematica's command line interface and notebook frontend,
which use different parsers. The differences may be categorized into two groups: those that matter and those that
 don't. A difference in behavior "doesn't matter" if the behavior is semantically identical, that is, if the different
  behavior has no effect on Mathematica programs. Semantically meaningful differences are important for programmers
   to know about and were the primary motivation for this effort to describe Wolfram Language.</p>
<p>The phrase "no effect" needs qualification, because Mathematica is able to inspect its own behavior. In this context,
no effect means the difference can only be detected using homoiconic reflection, e.g. inspecting the literal text of
 code or inspecting some undocumented internal structure of the system. However, see the section 
 <a href="#semantically-meaningful-differences">Hashing</a> below.</p>
<h2 id="semantically-meaningful-differences">Semantically meaningful differences<a class="headerlink" href="#semantically-meaningful-differences" title="Permanent link">&para;</a></h2>
<p>Semantically meaningful differences can effect how programs are executed. The first item in this section, Hashing, 
shows that <em>all syntactic differences are semantically meaningful.</em> Despite this fact, we nonetheless place syntactic
 differences that only effect hashing under the "semantically equivalent" category.</p>
<h3 id="hashing">Hashing<a class="headerlink" href="#hashing" title="Permanent link">&para;</a></h3>
<div class="admonition quote">
<p class="admonition-title">From <a href="https://reference.wolfram.com/language/ref/Hash.html">Hash—Wolfram Language Documentation</a></p>
<ul>
<li>The "Expression" hash code is computed from the internal representation of an expression and may vary between
computer systems and from one version of the Wolfram Language to another. </li>
<li>For hash code types (such as "SHA") that operate on sequences of bytes, 
<code class="highlight"><span class="nb">Hash</span><span class="p">[</span><span class="nv">expr</span><span class="p">,</span><span class="w"> </span><span class="nv">\[Ellipsis]</span><span class="p">]</span><span class="w"></span></code> first converts
<em>expr</em> to bytes according to ... bytes based on <code class="highlight"><span class="nb">ToString</span><span class="p">[</span><span class="nb">FullForm</span><span class="p">[</span><span class="nv">expr</span><span class="p">]]</span><span class="w"></span></code>. </li>
</ul>
</div>
<p>As a consequence of the above, any expression for which the FE and command line give different <code class="highlight"><span class="nb">FullForm</span><span class="w"></span></code> expressions also have different hashes in each. Many examples of this are given below.</p>
<h3 id="determining-the-fullform-expression-of-an-expression">Determining the FullForm expression of an expression<a class="headerlink" href="#determining-the-fullform-expression-of-an-expression" title="Permanent link">&para;</a></h3>
<p>Different methods of determining <code class="highlight"><span class="nb">FullForm</span><span class="w"></span></code> give different answers. The following two ways to transform an
  expression to FullForm give different results such that only one of them is an error.</p>
<p><div class="highlight"><pre><span></span><code><span class="nb">In</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nb">ToExpression</span><span class="p">[</span><span class="s">&quot;Hold[a;;\[Intersection]b\[SquareIntersection];;c]&quot;</span><span class="p">]</span><span class="o">//</span><span class="nb">FullForm</span><span class="w"></span>
<span class="nb">Out</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">//</span><span class="nb">FullForm</span><span class="o">=</span><span class="w"> </span><span class="nb">Hold</span><span class="p">[</span><span class="nb">Span</span><span class="p">[</span><span class="nb">SquareIntersection</span><span class="p">[</span><span class="nb">Intersection</span><span class="p">[</span><span class="nb">Span</span><span class="p">[</span><span class="nv">a</span><span class="p">,</span><span class="nb">All</span><span class="p">],</span><span class="nv">b</span><span class="p">],</span><span class="nv">System`Private`DummyId</span><span class="p">],</span><span class="nv">c</span><span class="p">]]</span><span class="w"></span>
</code></pre></div>
vs.
<div class="highlight"><pre><span></span><code><span class="nb">In</span><span class="p">[</span><span class="m">3</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nb">ToExpression</span><span class="p">[</span><span class="s">&quot;a;;\[Intersection]b\[SquareIntersection];;c&quot;</span><span class="p">,</span><span class="nb">StandardForm</span><span class="p">,</span><span class="nb">Hold</span><span class="p">]</span><span class="o">//</span><span class="nb">FullForm</span><span class="w"></span>
<span class="nv">During</span><span class="w"> </span><span class="nv">evaluation</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nb">In</span><span class="p">[</span><span class="m">3</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nb">Syntax</span><span class="o">::</span><span class="ne">sntxf</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;a;;\[Intersection]b\[SquareIntersection]&quot;</span><span class="w"> </span><span class="nv">cannot</span><span class="w"> </span><span class="nv">be</span><span class="w"> </span><span class="nv">followed</span><span class="w"> </span><span class="nv">by</span><span class="w"> </span><span class="s">&quot;;;c&quot;</span><span class="o">.</span><span class="w"></span>
<span class="nv">During</span><span class="w"> </span><span class="nv">evaluation</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nb">In</span><span class="p">[</span><span class="m">3</span><span class="p">]</span><span class="o">:=</span><span class="w"></span>
<span class="nb">ToExpression</span><span class="o">::</span><span class="ne">sntx</span><span class="o">:</span><span class="w"> </span>
<span class="w">   </span><span class="nv">Invalid</span><span class="w"> </span><span class="nv">syntax</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="nv">before</span><span class="w"> </span>
<span class="w">    </span><span class="s">&quot;\!\(StandardForm\`a;;\[Intersection]b\[SquareIntersection];;c</span>
<span class="s">        \)</span>

<span class="s">         ^</span>
<span class="s">      &quot;</span><span class="o">.</span><span class="w"></span>
<span class="nb">Out</span><span class="p">[</span><span class="m">3</span><span class="p">]</span><span class="o">//</span><span class="nb">FullForm</span><span class="o">=</span><span class="w"> </span><span class="nb">$Failed</span><span class="w"></span>
</code></pre></div></p>
<p>If the expressions within the strings are entered as expressions in the FE, it is a syntax error. However, only the
 second form of <code class="highlight"><span class="nb">ToExpression</span><span class="w"></span></code> gives a syntax error in the command line as well.</p>
<h3 id="number-forms">Number forms<a class="headerlink" href="#number-forms" title="Permanent link">&para;</a></h3>
<p>These number forms should be accepted but fail differently in the FE vs. CL.</p>
<div class="highlight"><pre><span></span><code><span class="m">2`</span><span class="err">`\</span><span class="o">:</span><span class="m">22127</span><span class="w"> </span><span class="c">(* Differs in command line vs FE vs `ToExpression`. *)</span><span class="w"></span>
<span class="c">(* 2 *)</span><span class="w"></span>
<span class="c">(* Syntax::snthex: 4 hexadecimal digits are required after \: to construct a 16-bit character. *)</span><span class="w"></span>
<span class="c">(* Syntax::tsntxi: &quot;2.\[Minus]7&quot; is incomplete; more input is needed. *)</span><span class="w"></span>

<span class="nb">Accuracy</span><span class="p">[</span><span class="m">2`</span><span class="err">`\</span><span class="o">:</span><span class="m">22127</span><span class="p">]</span><span class="w"> </span><span class="c">(* Same as above. Fails in both FE and CL the same, `ToExpression` different. *)</span><span class="w"></span>
<span class="c">(* ToExpression::sntx: </span>
<span class="c">   Invalid syntax in or before &quot;Accuracy[2``\[Minus]7]&quot;.</span>
<span class="c">                                         ^  </span>
<span class="c"> *)</span><span class="w"></span>
<span class="c">(* Syntax::sntxf: &quot;Accuracy&quot; cannot be followed by &quot;[2``\:22127]&quot;. *)</span><span class="w"></span>

<span class="m">2`</span><span class="nv">`\[Minus]</span><span class="m">7</span><span class="w"> </span><span class="c">(* WARNING: Crashes command line interface leaving zombie kernel running at 100% of CPU. *)</span><span class="w"></span>
<span class="c">(* Syntax::tsntxi: &quot;2.\[Minus]7&quot; is incomplete; more input is needed. *)</span><span class="w"></span>
</code></pre></div>

<p>Number forms that are malformed but fail differently. This difference in error message is common not just in number
 forms, but these supply convenient examples.
<div class="highlight"><pre><span></span><code><span class="m">3`</span><span class="err">`</span><span class="o">+</span><span class="w"></span>
<span class="c">(* Syntax::sntxf: &quot;3&quot; cannot be followed by &quot;``+&quot;. *)</span><span class="w"></span>
<span class="c">(* Syntax::tsntxi: &quot;3.+&quot; is incomplete; more input is needed. *)</span><span class="w"></span>

<span class="m">3`</span><span class="err">`</span><span class="o">-</span><span class="w"></span>
<span class="c">(* Syntax::sntxf: &quot;3&quot; cannot be followed by &quot;``-&quot;. *)</span><span class="w"></span>
<span class="c">(* Syntax::tsntxi: &quot;3.-&quot; is incomplete; more input is needed. *)</span><span class="w"></span>

<span class="m">2.78`26</span><span class="err">``</span><span class="m">10</span><span class="w"></span>
<span class="c">(* Syntax::tsntxi: &quot;2.78`26``10&quot; is incomplete; more input is needed. *)</span><span class="w"></span>
<span class="c">(* Syntax::sntxf: &quot;2.78`26&quot; cannot be followed by &quot;``10&quot;. *)</span><span class="w"></span>

<span class="m">2.78`</span><span class="err">`</span><span class="m">26`10</span><span class="w"></span>
<span class="c">(* Syntax::tsntxi: &quot;2.78`26`10&quot; is incomplete; more input is needed. *)</span><span class="w"></span>
<span class="c">(* Syntax::sntxf: &quot;2.78``26&quot; cannot be followed by &quot;`10&quot;. *)</span><span class="w"></span>
</code></pre></div></p>
<p>Number forms whose interpretation is debatable but which fail differently:
<div class="highlight"><pre><span></span><code><span class="m">3`</span><span class="nv">`\[Infinity]</span><span class="w"> </span><span class="c">(* WARNING: Crashes command line interface leaving zombie kernel running at 100% of CPU. *)</span><span class="w"></span>
<span class="c">(* $CharacterEncoding::utf8: The byte sequence {249} could not be interpreted as a character in the UTF-8 character encoding. *)</span><span class="w"></span>

<span class="m">1.0*^1.9</span><span class="w"> </span><span class="c">(* Parsed by FE as (1.0*^1)*0.9. *)</span><span class="w"></span>
<span class="c">(* General::ifexp: The exponent 1.9 is not an integer.</span>
<span class="c">Syntax::sntxb: Expression cannot begin with &quot;1.0*^1.9&quot;. *)</span><span class="w"></span>
<span class="c">(* 9. *)</span><span class="w"></span>
</code></pre></div></p>
<h3 id="parsing-identifiers-in-input">Parsing identifiers in input<a class="headerlink" href="#parsing-identifiers-in-input" title="Permanent link">&para;</a></h3>
<p>Consider the following command line session:
<div class="highlight"><pre><span></span><code><span class="nb">In</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nv">a\[RawEscape]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">7</span><span class="w">                                                       </span>
<span class="nb">Out</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">=</span><span class="w"> </span><span class="m">7</span><span class="w"></span>

<span class="nb">In</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nv">a\[RawEscape]</span><span class="o">^</span><span class="m">2</span><span class="w">                                                         </span>
<span class="nb">Out</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="o">=</span><span class="w"> </span><span class="m">49</span><span class="w"></span>
</code></pre></div></p>
<p>It is impossible to do the same in the FE, as the FE insists on separating the <code>a</code> and <code>\[RawEscape]</code> and then doesn't
 know what to do with the input. Copy+pasting as plain text, as I have done below, automatically inserts a space
  between the <code>a</code> and <code>\[RawEscape]</code>.</p>
<div class="highlight"><pre><span></span><code><span class="nb">In</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">\[RawEscape]</span><span class="o">=</span><span class="m">7</span><span class="w"></span>
<span class="nv">During</span><span class="w"> </span><span class="nv">evaluation</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nb">In</span><span class="p">[</span><span class="m">5</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nb">Set</span><span class="o">::</span><span class="ne">write</span><span class="o">:</span><span class="w"> </span><span class="nv">Tag</span><span class="w"> </span><span class="nb">Times</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">\[RawEscape]</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nb">Protected</span><span class="o">.</span><span class="w"></span>
<span class="nb">Out</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">=</span><span class="w"> </span><span class="m">7</span><span class="w"></span>
<span class="nb">In</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">\[RawEscape]</span><span class="o">^</span><span class="m">2</span><span class="w"></span>
<span class="nb">Out</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="o">=</span><span class="w"> </span><span class="nv">\[RawEscape]</span><span class="o">^</span><span class="m">2</span><span class="w"> </span><span class="nv">a</span><span class="w"></span>
</code></pre></div>

<p>To see what the FE is doing, compare
<div class="highlight"><pre><span></span><code><span class="nb">In</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nv">MathLink`CallFrontEnd</span><span class="p">[</span><span class="w"> </span><span class="nv">FrontEnd`UndocumentedTestFEParserPacket</span><span class="p">[</span><span class="s">&quot;a\[RawEscape]a&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">False</span><span class="p">]]</span><span class="w"></span>
<span class="nb">Out</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">=</span><span class="w"> </span><span class="nb">List</span><span class="p">[</span><span class="nb">BoxData</span><span class="p">[</span><span class="nb">RowBox</span><span class="p">[</span><span class="nb">List</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">,</span><span class="s">&quot;\[RawEscape]a&quot;</span><span class="p">]]],</span><span class="nb">StandardForm</span><span class="p">]</span><span class="w"></span>
</code></pre></div>
to
<div class="highlight"><pre><span></span><code><span class="nb">In</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nv">MathLink`CallFrontEnd</span><span class="p">[</span><span class="w"> </span><span class="nv">FrontEnd`UndocumentedTestFEParserPacket</span><span class="p">[</span><span class="s">&quot;a\[Alpha]a&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">False</span><span class="p">]]</span><span class="w"></span>
<span class="nb">Out</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="o">=</span><span class="w"> </span><span class="nb">List</span><span class="p">[</span><span class="nb">BoxData</span><span class="p">[</span><span class="s">&quot;a\[Alpha]a&quot;</span><span class="p">],</span><span class="nb">StandardForm</span><span class="p">]</span><span class="w"></span>
</code></pre></div></p>
<p>You can, however, begin an identifier with <code>\[RawEscape]</code> in the FE:
<div class="highlight"><pre><span></span><code><span class="nb">In</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nv">\[RawEscape]a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">7</span><span class="w">                                                       </span>
<span class="nb">Out</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">=</span><span class="w"> </span><span class="m">7</span><span class="w"></span>

<span class="nb">In</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nv">\[RawEscape]a</span><span class="o">^</span><span class="m">2</span><span class="w">                                                         </span>
<span class="nb">Out</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="o">=</span><span class="w"> </span><span class="m">49</span><span class="w"></span>
</code></pre></div></p>
<p>A similar but distinct phenomenon happens with <code>\[LongDash]</code>. The difference is, the FE treats <code>a\[LongDash]b</code> as 
three symbols multiplied together, whereas it interprets <code>a\[RawEscape]b</code> as <code>Times[a,\[RawEscape]b]</code>.
<div class="highlight"><pre><span></span><code><span class="nb">In</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nb">Hold</span><span class="p">[</span><span class="nv">a\[LongDash]b</span><span class="p">]</span><span class="o">//</span><span class="nb">FullForm</span><span class="w"></span>
<span class="nb">Out</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">//</span><span class="nb">FullForm</span><span class="o">=</span><span class="w"> </span><span class="nb">Hold</span><span class="p">[</span><span class="nb">Times</span><span class="p">[</span><span class="nv">a</span><span class="p">,</span><span class="nv">\[LongDash]</span><span class="p">,</span><span class="nv">b</span><span class="p">]]</span><span class="w"></span>
<span class="nb">In</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nb">ToHeldExpression</span><span class="p">[</span><span class="s">&quot;a\[LongDash]b&quot;</span><span class="p">]</span><span class="o">//</span><span class="nb">FullForm</span><span class="w"></span>
<span class="nb">Out</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="o">//</span><span class="nb">FullForm</span><span class="o">=</span><span class="w"> </span><span class="nb">Hold</span><span class="p">[</span><span class="nv">a\[LongDash]b</span><span class="p">]</span><span class="w"></span>
</code></pre></div></p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>"What is a valid identifier in Mathematica?" is currently an open question. All known methods of determining this, 
including <code>SymbolNameQ</code> and <code>UnicodeCharacters.tr</code>, do not provide correct answers.</p>
</div>
<h3 id="parsing-expressions-involving">Parsing expressions involving <code>;;</code><a class="headerlink" href="#parsing-expressions-involving" title="Permanent link">&para;</a></h3>
<p>ToDo: Is this caused by differences in precedence or by incorrect input parsing? </p>
<div class="highlight"><pre><span></span><code><span class="nb">In</span><span class="p">[</span><span class="m">15</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nb">FullForm</span><span class="p">[</span><span class="nv">a</span><span class="o">;;</span><span class="nv">\[Intersection]a\[SquareIntersection]</span><span class="o">;;</span><span class="nv">a</span><span class="p">]</span><span class="w"></span>
<span class="nb">Syntax</span><span class="o">::</span><span class="ne">sntxf</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;a;;\[Intersection]a\[SquareIntersection]&quot;</span><span class="w"> </span><span class="nv">cannot</span><span class="w"> </span><span class="nv">be</span><span class="w"> </span><span class="nv">followed</span><span class="w"> </span><span class="nv">by</span><span class="w"> </span><span class="s">&quot;;;a&quot;</span><span class="o">.</span><span class="w"></span>

<span class="nb">In</span><span class="p">[</span><span class="m">13</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nb">ToExpression</span><span class="p">[</span><span class="s">&quot;a;;\[Intersection]a\[SquareIntersection];;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">StandardForm</span><span class="p">,</span><span class="w"> </span><span class="nb">Hold</span><span class="p">]</span><span class="o">//</span><span class="nb">FullForm</span><span class="w"></span>
<span class="nb">Out</span><span class="p">[</span><span class="m">13</span><span class="p">]</span><span class="o">//</span><span class="nb">FullForm</span><span class="o">=</span><span class="w"> </span><span class="nb">Hold</span><span class="p">[</span><span class="nb">SquareIntersection</span><span class="p">[</span><span class="nb">Intersection</span><span class="p">[</span><span class="nb">Span</span><span class="p">[</span><span class="nv">a</span><span class="p">,</span><span class="nb">All</span><span class="p">],</span><span class="nv">a</span><span class="p">],</span><span class="nb">Span</span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="nv">a</span><span class="p">]]]</span><span class="w"></span>

<span class="nb">In</span><span class="p">[</span><span class="m">15</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nb">FullForm</span><span class="p">[</span><span class="nv">a</span><span class="o">;;</span><span class="nv">\[Intersection]b</span><span class="p">]</span><span class="w"></span>
<span class="nb">Syntax</span><span class="o">::</span><span class="ne">sntxf</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;a;;&quot;</span><span class="w"> </span><span class="nv">cannot</span><span class="w"> </span><span class="nv">be</span><span class="w"> </span><span class="nv">followed</span><span class="w"> </span><span class="nv">by</span><span class="w"> </span><span class="s">&quot;\[Intersection]b&quot;</span><span class="o">.</span><span class="w"></span>

<span class="nb">In</span><span class="p">[</span><span class="m">14</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nb">ToExpression</span><span class="p">[</span><span class="s">&quot;a;;\[Intersection]b&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">StandardForm</span><span class="p">,</span><span class="w"> </span><span class="nb">Hold</span><span class="p">]</span><span class="o">//</span><span class="nb">FullForm</span><span class="w"></span>
<span class="nb">Out</span><span class="p">[</span><span class="m">14</span><span class="p">]</span><span class="o">//</span><span class="nb">FullForm</span><span class="o">=</span><span class="w"> </span><span class="nb">Hold</span><span class="p">[</span><span class="nb">Intersection</span><span class="p">[</span><span class="nb">Span</span><span class="p">[</span><span class="nv">a</span><span class="p">,</span><span class="nb">All</span><span class="p">],</span><span class="nv">b</span><span class="p">]]</span><span class="w"></span>
</code></pre></div>

<h3 id="expressions-involving">Expressions involving <code>.</code><a class="headerlink" href="#expressions-involving" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nv">b</span><span class="o">=...</span><span class="m">1</span><span class="w"></span>
<span class="c">(* Times[Repeated[Unset[b]], 1] *)</span><span class="w"></span>
<span class="c">(* Syntax::sntxf: &quot;b=&quot; cannot be followed by &quot;...1&quot;. *)</span><span class="w"></span>
</code></pre></div>

<p>The operators (each written as an example here) that DO NOT steal the <code>.</code> from a trailing digit are <code>a/.1</code>, 
<code>a/:b=.1</code>, and <code>a=.1</code>. As noted, <code>//.</code> is inconsistent with <code>/.</code>, and the <code>Dot</code> operator <code>(a.b)</code> needs to be 
treated as a special case. This places the “precedence” of a leading decimal point between <code>//.</code> and <code>/.</code>, which is
 consistent with everything except the <code>Dot</code> operator. </p>
<h3 id="obscure-grouping-symbols">Obscure grouping symbols<a class="headerlink" href="#obscure-grouping-symbols" title="Permanent link">&para;</a></h3>
<p>The obscure grouping symbols in <code>UnicodeCharacters.tr</code> are sometimes treated as parentheses, sometimes as symbols,
but don’t go away in the output. Other times they aren't parsed at all.
<div class="highlight"><pre><span></span><code><span class="m">4</span><span class="o">*</span><span class="err">〔</span><span class="m">3</span><span class="o">+</span><span class="m">2</span><span class="err">〕</span><span class="w"> </span><span class="c">(* Cannot be copy+pasted into my terminal without special chars disappearing. *)</span><span class="w"></span>
<span class="c">(* 14 *)</span><span class="w"></span>
<span class="c">(* 20 〔 〕*)</span><span class="w"></span>

<span class="m">4</span><span class="o">*</span><span class="err">\</span><span class="o">:</span><span class="m">3014</span><span class="w"> </span><span class="m">3</span><span class="o">+</span><span class="m">2</span><span class="w"> </span><span class="err">\</span><span class="o">:</span><span class="m">3015</span><span class="w">                                                     </span>
<span class="c">(* 20 〔 〕 *)</span><span class="w"></span>
<span class="c">(* 12 〔 + 2 *)</span><span class="w"></span>

<span class="nb">FullForm</span><span class="p">[</span><span class="nb">Hold</span><span class="p">[</span><span class="m">4</span><span class="o">*</span><span class="err">\</span><span class="o">:</span><span class="m">3014</span><span class="w"> </span><span class="m">3</span><span class="o">+</span><span class="m">2</span><span class="w"> </span><span class="err">\</span><span class="o">:</span><span class="m">3015</span><span class="w"> </span><span class="p">]</span><span class="w">  </span><span class="c">(* Note the inconsistency of the CL, which cannot parse this.. *)</span><span class="w">                 </span>
<span class="c">(* Hold[Times[4,Times[\:3014,Plus[3,2],\:3015]]] *)</span><span class="w"></span>
<span class="c">(* Syntax::sntxi: Incomplete expression; more input is needed . *)</span><span class="w"></span>

<span class="nb">ToExpression</span><span class="p">[</span><span class="s">&quot;4*〔3+2〕&quot;</span><span class="p">]</span><span class="o">//</span><span class="nb">FullForm</span><span class="w">  </span><span class="c">(* Can you spot where the `3` goes? *)</span><span class="w"></span>
<span class="c">(* Plus[Times[2,\:3015],Times[4,\:30143]] *)</span><span class="w"></span>

<span class="nb">ToExpression</span><span class="p">[</span><span class="s">&quot;4*〔3+2〕&quot;</span><span class="p">]</span><span class="w"> </span><span class="c">(* This is where the 3 goes: The `〔3` is treated as an identifier.  *)</span><span class="w"></span>
<span class="c">(* ) 2 〕+4 〔3 *)</span><span class="w"></span>
</code></pre></div></p>
<h2 id="differences-that-are-semantically-equivalent">Differences that are semantically equivalent<a class="headerlink" href="#differences-that-are-semantically-equivalent" title="Permanent link">&para;</a></h2>
<h3 id="flattening-times-in-arithmetic-expressions-with-exact-numbers">Flattening <code class="highlight"><span class="nb">Times</span><span class="w"></span></code> in arithmetic expressions with exact numbers<a class="headerlink" href="#flattening-times-in-arithmetic-expressions-with-exact-numbers" title="Permanent link">&para;</a></h3>
<p>Command line Mathematica and Notebook Mathematica produce different output for <code class="highlight"><span class="nb">FullForm</span><span class="p">[</span><span class="nb">Hold</span><span class="p">[</span><span class="o">-+</span><span class="nv">x</span><span class="w"> </span><span class="m">2</span><span class="p">]]</span><span class="w"></span></code>:</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="nb">Notebook</span><span class="p">)</span><span class="w"> </span><span class="nb">In</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nb">FullForm</span><span class="p">[</span><span class="nb">Hold</span><span class="p">[</span><span class="o">-+</span><span class="nv">x</span><span class="w"> </span><span class="m">2</span><span class="p">]]</span><span class="w"></span>
<span class="p">(</span><span class="nb">Notebook</span><span class="p">)</span><span class="w"> </span><span class="nb">Out</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">//</span><span class="nb">FullForm</span><span class="o">=</span><span class="w"> </span><span class="nb">Hold</span><span class="p">[</span><span class="nb">Times</span><span class="p">[</span><span class="nb">Times</span><span class="p">[</span><span class="o">-</span><span class="m">1</span><span class="p">,</span><span class="nb">Plus</span><span class="p">[</span><span class="nv">x</span><span class="p">]],</span><span class="m">2</span><span class="p">]]</span><span class="w"></span>

<span class="p">(</span><span class="nv">Terminal</span><span class="p">)</span><span class="w"> </span><span class="nb">In</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nb">FullForm</span><span class="p">[</span><span class="nb">Hold</span><span class="p">[</span><span class="o">-+</span><span class="nv">x</span><span class="w"> </span><span class="m">2</span><span class="p">]]</span><span class="w"></span>
<span class="p">(</span><span class="nv">Terminal</span><span class="p">)</span><span class="w"> </span><span class="nb">Out</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">//</span><span class="nb">FullForm</span><span class="o">=</span><span class="w"> </span><span class="nb">Hold</span><span class="p">[</span><span class="nb">Times</span><span class="p">[</span><span class="o">-</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="nb">Plus</span><span class="p">[</span><span class="nv">x</span><span class="p">],</span><span class="w"> </span><span class="m">2</span><span class="p">]]</span><span class="w"></span>

<span class="p">(</span><span class="nb">Definition</span><span class="p">)</span><span class="w"> </span><span class="nb">In</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nb">FullForm</span><span class="p">[</span><span class="nb">Hold</span><span class="p">[</span><span class="o">-+</span><span class="nv">x</span><span class="w"> </span><span class="m">2</span><span class="p">]]</span><span class="w"></span>
<span class="p">(</span><span class="nb">Definition</span><span class="p">)</span><span class="w"> </span><span class="nb">Out</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">//</span><span class="nb">FullForm</span><span class="o">=</span><span class="w"> </span><span class="nb">Hold</span><span class="p">[</span><span class="nb">Times</span><span class="p">[</span><span class="nb">Minus</span><span class="p">[</span><span class="nb">Plus</span><span class="p">[</span><span class="nv">x</span><span class="p">]],</span><span class="w"> </span><span class="m">2</span><span class="p">]]</span><span class="w"></span>
</code></pre></div>

<p>Looks like the notebook doesn't properly flatten <code>Times[]</code>. Compare this to <code>+-x 2</code> for which both the notebook and the command line give the same result:</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="nb">In</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nb">FullForm</span><span class="p">[</span><span class="nb">Hold</span><span class="p">[</span><span class="o">+-</span><span class="nv">x</span><span class="w"> </span><span class="m">2</span><span class="p">]]</span><span class="w"></span>
<span class="w">    </span><span class="nb">Out</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">//</span><span class="nb">FullForm</span><span class="o">=</span><span class="w"> </span><span class="nb">Hold</span><span class="p">[</span><span class="nb">Times</span><span class="p">[</span><span class="nb">Plus</span><span class="p">[</span><span class="nb">Times</span><span class="p">[</span><span class="o">-</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="nv">x</span><span class="p">]],</span><span class="w"> </span><span class="m">2</span><span class="p">]]</span><span class="w"></span>
</code></pre></div>

<p>Note that I could have just as easily used <code class="highlight"><span class="o">-+</span><span class="m">2</span><span class="nv">x</span><span class="w"></span></code> instead but wanted to avoid confusion with the following oddity,
 which is  distinct: Mathematica does not parse subtraction as-is.</p>
<div class="highlight"><pre><span></span><code><span class="nb">In</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nb">FullForm</span><span class="p">[</span><span class="nb">Hold</span><span class="p">[</span><span class="nv">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">4</span><span class="p">]]</span><span class="w"></span>
<span class="nb">Out</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">=</span><span class="w"> </span><span class="nb">Hold</span><span class="p">[</span><span class="nb">Plus</span><span class="p">[</span><span class="nv">x</span><span class="p">,</span><span class="o">-</span><span class="m">4</span><span class="p">]]</span><span class="w"></span>

<span class="nb">In</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nb">FullForm</span><span class="p">[</span><span class="nb">Hold</span><span class="p">[</span><span class="nv">x</span><span class="o">-</span><span class="nv">y</span><span class="p">]]</span><span class="w"></span>
<span class="nb">Out</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="o">=</span><span class="w"> </span><span class="nb">Hold</span><span class="p">[</span><span class="nb">Plus</span><span class="p">[</span><span class="nv">x</span><span class="p">,</span><span class="w"> </span><span class="nb">Times</span><span class="p">[</span><span class="o">-</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="nv">y</span><span class="p">]]]</span><span class="w"></span>
</code></pre></div>

<p>Mathematica's behavior is not entirely consistent when it comes to subtracting a constant. Mathematica interprets 
<code class="highlight"><span class="nv">x</span><span class="o">-</span><span class="m">4</span><span class="w"></span></code> as <code class="highlight"><span class="nb">Plus</span><span class="p">[</span><span class="nv">x</span><span class="p">,</span><span class="o">-</span><span class="m">4</span><span class="p">]</span><span class="w"></span></code>, but if the constant is already negative, 
Mathematica doesn't simplify the multiplication by <code class="highlight"><span class="o">-</span><span class="m">1</span><span class="w"></span></code>:</p>
<div class="highlight"><pre><span></span><code><span class="nb">In</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nb">FullForm</span><span class="p">[</span><span class="nb">Hold</span><span class="p">[</span><span class="nv">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">-</span><span class="m">4</span><span class="p">]]</span><span class="w"></span>
<span class="nb">Out</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">=</span><span class="w"> </span><span class="nb">Hold</span><span class="p">[</span><span class="nb">Plus</span><span class="p">[</span><span class="nv">x</span><span class="p">,</span><span class="nb">Times</span><span class="p">[</span><span class="o">-</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="m">4</span><span class="p">]]]</span><span class="w"></span>
</code></pre></div>

<h2 id="bugs">Bugs<a class="headerlink" href="#bugs" title="Permanent link">&para;</a></h2>
<p>These aren't differences between interfaces. They're just bugs.</p>
<p>This is interpreted incorrectly:
<div class="highlight"><pre><span></span><code><span class="m">16^^9</span><span class="nv">fe</span><span class="o">.</span><span class="nv">c3`\[Minus]</span><span class="m">7</span><span class="w"> </span><span class="c">(* Treated as subtraction. Note: Cannot be copy+pasted into FE. *)</span><span class="w"></span>
<span class="c">(* 2551.76 *)</span><span class="w"></span>
</code></pre></div></p>
<p>This is fixed in version 12:
<div class="highlight"><pre><span></span><code><span class="o">+;;;</span><span class="w"></span>
</code></pre></div></p>
<p>Crash the front end:
<div class="highlight"><pre><span></span><code><span class="nb">FrontEndExecute</span><span class="o">@</span><span class="nv">ReparseBoxStructurePacket</span><span class="p">[</span><span class="nb">Cell</span><span class="p">[</span><span class="m">1</span><span class="p">]]</span><span class="w"></span>
</code></pre></div></p>
<p>(See the sections on number forms above for more ways to crash Mathematica.)</p>
<h2 id="other-homeless-quirks">Other Homeless Quirks<a class="headerlink" href="#other-homeless-quirks" title="Permanent link">&para;</a></h2>
<p>The expression <code>lhs/.1-&gt;2</code> is division by 0.1,  but <code>lhs /. 1 -&gt; 2</code> is <code>ReplaceAll</code>. It contradicts two other similar 
forms. Compare
<div class="highlight"><pre><span></span><code><span class="nb">ToHeldExpression</span><span class="p">[</span><span class="s">&quot;1/.1&quot;</span><span class="p">]</span><span class="o">//</span><span class="nb">FullForm</span><span class="w"> </span><span class="o">--&gt;</span><span class="w"> </span><span class="nb">Hold</span><span class="p">[</span><span class="nb">Times</span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="nb">Power</span><span class="p">[</span><span class="m">0.1`</span><span class="p">,</span><span class="o">-</span><span class="m">1</span><span class="p">]]]</span><span class="w"></span>
<span class="nb">ToHeldExpression</span><span class="p">[</span><span class="s">&quot;1//.1&quot;</span><span class="p">]</span><span class="o">//</span><span class="nb">FullForm</span><span class="w">  </span><span class="o">--&gt;</span><span class="w"> </span><span class="nb">Hold</span><span class="p">[</span><span class="nb">ReplaceRepeated</span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="m">1</span><span class="p">]]</span><span class="w"></span>
<span class="nb">ToHeldExpression</span><span class="p">[</span><span class="s">&quot;1...1&quot;</span><span class="p">]</span><span class="o">//</span><span class="nb">FullForm</span><span class="w">  </span><span class="o">--&gt;</span><span class="w"> </span><span class="nb">Hold</span><span class="p">[</span><span class="nb">Times</span><span class="p">[</span><span class="nb">RepeatedNull</span><span class="p">[</span><span class="m">1</span><span class="p">],</span><span class="m">1</span><span class="p">]]</span><span class="w"></span>
</code></pre></div></p>
<p>Operators greedily consume tokens - except in the case of <code>/.</code>.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../Contributing/" class="btn btn-neutral float-right" title="How to Contribute">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../ProgrammingTools/" class="btn btn-neutral" title="Programming Tools"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div id="shoutouts">
  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  </div>

  <div class="license">
      <div class="contentinfo" role="contentinfo">
        <!-- Copyright etc -->
        
          Copyright &copy; 2018&ndash;2020 Robert Jacobson
        
      </div>
      <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0;float:left;padding:3pt;height:30pt;" src="/img/cc-by-sa.svg" /></a>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
  </div>
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/WLTools/LanguageSpec/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../ProgrammingTools/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../../Contributing/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.js" defer></script>
      <script src="../../extras/js/usekratex.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
